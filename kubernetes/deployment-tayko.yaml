apiVersion: apps/v1
kind: Deployment
metadata:
  name: tayko-co-deployment
  labels:
    app: tayko-co
spec:
  replicas: 3
  revisionHistoryLimit: 2
  selector:
    matchLabels:
      app: tayko-co
  template:
    metadata:
      labels:
        app: tayko-co
    containers:
    - name: tayko-co
      image: tayko/tayko-co:b6d6eef2
      imagePullPolicy: Always
      ports:
        - name: http
          containerPort: 80
          protocol: TCP
      livenessProbe:
        httpGet:
          path: /
          port: http
      readinessProbe:
        httpGet:
          path: /
          port: http
      volumeMounts:
        - mountPath: /app/Blog
          name: blog-data
    volumes:
      - name: blog-data
        persistentVolumeClaim:
          claimName: 'tayko-co-pvc'